<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Getting started with JSON Form</title>
    <link rel="stylesheet" style="text:css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
</head>
<body>
<h1>Getting started with JSON Form</h1>
<form></form>
<div id="res" class="alert"></div>
<script src="js/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/backoffice/others/underscore.js"></script>
<script type="text/javascript" src="js/backoffice/others/jsv.js"></script>
<script type="text/javascript" src="js/backoffice/others/jsonform.js"></script>
<script type="text/javascript">
    $('form').jsonForm({
        schema: {
            name: {
                type: 'string',
                title: 'Name',
                required: true
            },
            age: {
                type: 'number',
                title: 'Age'
            },
            friends: {
                "type": "array",
                "items": {
                    "type": "object",
                    "title": "Friend",
                    "properties": {
                        "nick": {
                            "type": "string",
                            "title": "Nickname",
                            "required": true
                        },
                        "gender": {
                            "type": "string",
                            "title": "Gender",
                            "enum": [ "male", "female", "alien" ]
                        },
                        "age": {
                            "type": "integer",
                            "title": "Age"
                        }
                    }
                }
            }
        },
        value: {
            name: "aaa",
            age:13,
            friends:[
                { "nick": "tidoust", "gender": "male", "age": 34 },
                { "nick": "titine", "gender": "female", "age": 6 },
                { "nick": "E.T.", "gender": "alien" }
            ]
    }
        ,
        onSubmit: function (errors, values) {
            if (errors) {
                $('#res').html('<p>I beg your pardon?</p>');
            } else {
                $('#res').html('<p>Hello ' + values.name + '.' +
                    (values.age ? '<br/>You are ' + values.age + '.' : '') +
                    '</p>');
            }
        }
    });
</script>
</body>
</html>
